## 第三章 分布式文件系统 HDFS

**01 在 HDFS 中，负责管理分布式文件系统的命名空间和客户端对文件的访问的组件是什么？**  
- [ ] A. 数据节点  
- [x] B. 名称节点  
- [ ] C. EditLog  
- [ ] D. FsImage  

**02 FsImage 文件不包含以下哪项信息？**  
- [ ] A. 文件系统中所有目录和文件的 inode  
- [x] B. 每个块的存储位置  
- [ ] C. 文件的复制等级和修改时间  
- [ ] D. 目录的修改时间和权限  

**03 在 HDFS 中，当数据节点加入集群时，它会执行什么操作？**  
- [x] A. 向名称节点发送心跳信息  
- [ ] B. 向客户端发送数据  
- [ ] C. 自行决定存储哪些数据  
- [ ] D. 无需执行任何操作  

**04 HDFS 的通信协议是构建在什么协议基础之上的？**  
- [ ] A. UDP/IP  
- [ ] B. HTTP  
- [x] C. TCP/IP  
- [ ] D. FTP  

**05 HDFS 采用什么方式对数据进行冗余存储以提高容错性和可用性？**  
- [ ] A. 单副本  
- [ ] B. 双副本  
- [x] C. 多副本  
- [ ] D. 不确定  

**06 当数据节点发生故障时，名称节点会如何处理？**  
- [ ] A. 立即删除故障节点上的数据  
- [ ] B. 停止所有客户端的访问  
- [x] C. 将故障节点标记为“宕机”并启动数据冗余复制  
- [ ] D. 不采取任何措施  

**07 HDFS 名称节点（NameNode）保存了哪些核心数据结构？**  
- [x] A. FsImage  
- [x] B. EditLog  
- [ ] C. 数据块  
- [ ] D. 文件内容  
- [x] E. 每个文件中各个块所在的数据节点的位置信息  

**08 HDFS 数据节点的功能包括哪些？**  
- [ ] A. 管理分布式文件系统的命名空间  
- [x] B. 负责数据的存储和读取  
- [x] C. 定期向名称节点发送心跳信息  
- [x] D. 处理客户端的读写请求  
- [ ] E. 维护 EditLog 文件  

**09 HDFS 中，名称节点（NameNode）也被称为从节点。**  
- [ ] A. 正确  
- [x] B. 错误  

**10 HDFS 默认一个块的大小为 128MB。**  
- [x] A. 正确  
- [ ] B. 错误  

**11 HDFS 可以高效存储大量小文件。**  
- [ ] A. 正确  
- [x] B. 错误  

**12 HDFS 支持多用户写入及任意修改文件。**  
- [ ] A. 正确  
- [x] B. 错误  

**13 在 HDFS 中，______（NameNode）负责管理分布式文件系统的命名空间。**  
<details><summary>点击显示答案</summary>
NameNode
</details>

**14 HDFS 采用了______结构模型，一个 HDFS 集群包括一个名称节点和若干个数据节点。**  
<details><summary>点击显示答案</summary>
主从
</details>

**15 HDFS 有很多 shell 命令，其中，______ 命令可以查看 HDFS 文件系统的目录结构、上传和下载数据、创建文件等。**  
<details><summary>点击显示答案</summary>
hdfs dfs
</details>

**16 HDFS 中，所有的 HDFS 通信协议都是构建在______协议基础之上的。**  
<details><summary>点击显示答案</summary>
TCP/IP
</details>

**17 当数据节点发生故障或网络发生断网时，名称节点就无法收到来自一些数据节点的______信息。**  
<details><summary>点击显示答案</summary>
心跳
</details>

**18 简答题：HDFS 体系结构中包括哪两个主要组件？它们各自的功能是什么？**  
<details><summary>点击显示答案</summary>
HDFS 包括 NameNode 和 DataNode 两个主要组件。  
- **NameNode**：管理文件系统命名空间、维护元数据（如目录树、文件 inode 及块列表）。  
- **DataNode**：存储实际的数据块，处理客户端的读写请求，并定期向 NameNode 汇报心跳和块报告。
</details>

**19 简答题：HDFS 如何实现数据的冗余存储？这样做的好处是什么？**  
<details><summary>点击显示答案</summary>
HDFS 通过多副本机制（默认 3 副本）将数据块复制到不同的 DataNode。  
**好处**：即使部分节点故障，也可从其他副本读取数据，提高系统容错性和可用性。
</details>

**20 简答题：当 HDFS 中的数据节点出现故障时，系统是如何应对的？**  
<details><summary>点击显示答案</summary>
NameNode 会将故障节点标记为下线，并对剩余副本不足的块启动新的副本复制，以保证每个块的副本数满足设定的容错要求。
</details>

**21 简答题：HDFS 中的 FsImage 和 EditLog 分别保存了什么信息？**  
<details><summary>点击显示答案</summary>
- **FsImage**：持久化存储文件系统完整元数据快照，包括目录树、文件 inode 及块 ID 列表。  
- **EditLog**：记录对命名空间的增量修改操作（如创建、删除、重命名等），用于增量更新 FsImage。
</details>
